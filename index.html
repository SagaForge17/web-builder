<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Website Builder | SagaForge</title>
    <style>
/* width */
::-webkit-scrollbar {
  width: 13px;
  height: 13px;
}

/* Track */
::-webkit-scrollbar-track {
  box-shadow: inset 0 0 8px #333;
  background: rgba(0,0,0,0.3);
}
 
/* Handle */
::-webkit-scrollbar-thumb {
  background: #aaa;
  box-shadow: inset 0 0 8px #333;
}

/* Handle on hover */
::-webkit-scrollbar-thumb:hover {
  background: #bbb; 
}
</style>
    <style>
      	toolbar {
      		background: linear-gradient(to bottom, #f3f3f3, #e1e1e1);
            border-bottom: 1px solid #a1a1a1;
            box-shadow: inset 0 1px 0 #fff, 0 1px 2px rgba(0, 0, 0, 0.1);
            color: #333;
            font-family: Arial, sans-serif;
            font-size: 14px;
            text-shadow: 0 1px 0 #fff;
      		-webkit-user-select: none;
      		-ms-user-select: none;
      		user-select: none;
      		position: fixed;
      		width: 100%;
      		height: 30px;
      	}
      	toolbar button {
      		background: linear-gradient(to bottom, #f3f3f3, #e1e1e1);
            border: 1px solid #a1a1a1;
      		border-top: 0px none;
            border-bottom-left-radius: 5px;
      		border-bottom-right-radius: 5px;
            box-shadow: inset 0 1px 0 #fff, 0 1px 3px rgba(0, 0, 0, 0.3);
            color: #333;
            font-family: Arial, sans-serif;
            font-size: 17px;
            padding: 10px 50px;
            text-shadow: 0 1px 0 #fff;
      		-webkit-user-select: none;
      		-ms-user-select: none;
      		user-select: none;
      		font-weight: bold;
      	}
      	toolbar button:hover {
            background: linear-gradient(to bottom, #e1e1e1, #f3f3f3);
            cursor: pointer;
        }
        toolbar button:active {
            background: linear-gradient(to bottom, #d1d1d1, #e1e1e1);
            box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.2);
        }
      	toolbar li, toolbar div, toolbar center {
      		display: inline-block;
      		margin-left: 5px;
      		margin-right: 5px;
      	}
      	#searchtxt {
            width: 100%;
            max-width: 280px;
            padding: 2px;
            border: 1px solid #A9A9A9;
            border-radius: 2px;
            box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);
            font-family: Tahoma, sans-serif;
            font-size: 14px;
        }
        #searchtxt:focus {
            border-color: #555;
            box-shadow: 0 0 3px #777;
            outline: none;
        }
      	#main {
            overflow-x: hidden;
            overflow-y: auto;
            margin-top: 60px;
            height: calc(100% - 85px);
            width: 95%;
      		max-width: 1300px;
            position: absolute;
            z-index: 8;
            display: flex;

            /* Centering */
            left: 50%;
            transform: translateX(-50%);
      	}
      	#logotxt {
      		text-decoration: none;
      		color: #333;
      	}
      	.sidebar button {
      		background: linear-gradient(to bottom, #f3f3f3, #e1e1e1);
            border: 1px solid #a1a1a1;
            border-radius: 5px;
            box-shadow: inset 0 1px 0 #fff, 0 1px 2px rgba(0, 0, 0, 0.2);
            color: #333;
            font-family: Arial, sans-serif;
            font-size: 14px;
            padding: 10px 20px;
            text-shadow: 0 1px 0 #fff;
      	}
      	.sidebar button:hover {
      		background: linear-gradient(to bottom, #e1e1e1, #f3f3f3);
            cursor: pointer;
      	}
      	.sidebar button:active {
      		background: linear-gradient(to bottom, #d1d1d1, #e1e1e1);
            box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.2);
      	}
    </style>
	<style>
        body {
      		font-family: Verdana, sans-serif;
      		display: flex;
      		flex-direction: row;
      		height: 100vh;
      		margin: 0;
      	}
      
      	button {
      		cursor: pointer;
      	}
        
        /* Sidebar layout (toolbar + settings + context menu) */
        .sidebar {
            display: flex;
            flex-direction: column;
            width: 300px;
            background-color: #f4f4f4;
            border-right: 1px solid #ccc;
            padding: 10px;
      		overflow: hidden;
      		background: linear-gradient(to bottom, #f3f3f3, #e1e1e1);
            border: 1px solid #a1a1a1;
            border-radius: 5px;
            box-shadow: inset 0 1px 0 #fff, 0 1px 10px rgba(0, 0, 0, 0.3);
            color: #333;
            font-family: Arial, sans-serif;
            text-shadow: 0 1px 0 #fff;
      		-webkit-user-select: none;
      		-ms-user-select: none;
      		user-select: none;
        }
        
        .toolbar {
      		padding: 10px;
            margin-bottom: 20px;
      		border-top: 1px solid #ccc;
      		border-bottom: 1px solid #ccc;
        }
        
        .settings, .edit-menu {
            margin-top: auto;
            padding: 10px;
            border-top: 1px solid #ccc;
      		border-bottom: 1px solid #ccc;
        }
      
      	.edit-menu {
      		border: 1px solid #ccc;
      		margin-bottom: auto;
      	}
      
      	.edit-menu input {
      		width: calc(100% - 8px);
      		height: 20px;
      		margin-top: 3px;
      		margin-bottom: 5px;
      	}

      	.settings input {
      		width: calc(100% - 8px);
      		height: 20px;
      		margin-top: 3px;
      		margin-bottom: 5px;
            border: 1px solid #A9A9A9;
            border-radius: 2px;
            box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);
            font-size: 14px;
        }

        .settings input:focus {
            border-color: #4D90FE;
            box-shadow: 0 0 3px rgba(77, 144, 254, 0.5);
            outline: none;
        }
      
      	.settings select {
      		width: calc(100% - 1px);
      		height: 20px;
      		margin-top: 3px;
      		margin-bottom: 5px;
      		border: 1px solid #A9A9A9;
            border-radius: 2px;
            box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);
            font-size: 14px;
      	}
      
      	.settings select:focus {
            border-color: #4D90FE;
            box-shadow: 0 0 3px rgba(77, 144, 254, 0.5);
            outline: none;
        }
      
        #elements-container button {
            width: 100%;
      		height: 35px;
      		margin-top: 5px;
      		margin-bottom: 5px;
        }

        /* Editor */
        #editor {
            flex: 1;
            min-height: 500px;
            border: 1px solid #ccc;
            padding: 10px;
            margin-left: 10px;
            background-color: #fff;
      		font-family: Arial;
            border: 1px solid #a1a1a1;
            border-radius: 5px;
            box-shadow: inset 0 1px 0 #fff, 0 1px 10px rgba(0, 0, 0, 0.3);
      		-webkit-user-select: none;
      		-ms-user-select: none;
      		user-select: none;
        }
      
      	#editor:focus {
            border-color: #4D90FE;
            box-shadow: 0 0 5px rgba(77, 144, 254, 0.5);
            outline: none;
        }
        
        img {
            display: block;
            margin: 5px 0;
            max-width: 100%;
        }

        /* Centered context menu in the sidebar */
        .edit-menu label {
            display: block;
            margin-bottom: 3px;
        }
      
      	.edit-menu input, .edit-menu select, #editLabel {
      		display: block;
            margin-bottom: 10px;
      	}
        
        .edit-menu button {
            margin-top: 0;
      		width: calc(50% - 3px);
        }

      	#export-button {
      		width: 280px;
      		height: 35px;
      		margin-top: 5px;
      		margin-bottom: 5px;
      		justify-content: center;
      		margin-left: auto;
      		margin-right: auto;
      	}
      	
      	#fontSelector {
      		width: calc(100% - 47px);
      	}
      
      	#pageFontSize {
      		width: 35px;
      		height: 16.1px;
      	}
      
        .loading-container {
            width: 400px;
      		min-height: 110px;
      		z-index: 8;
            padding: 15px;
      		padding-top: 8px;
      		padding-bottom: 20px;
            background: linear-gradient(to bottom, #f3f3f3, #e1e1e1);
            border: 1px solid #a1a1a1;
            border-radius: 5px;
            box-shadow: inset 0 1px 0 #fff, 0 1px 10px rgba(0, 0, 0, 0.3);
            color: #333;
            font-family: Arial, sans-serif;
            font-size: 14px;
            text-shadow: 0 1px 0 #fff;
      		-webkit-user-select: none;
      		-ms-user-select: none;
      		user-select: none;

        }
        .loading-bar {
            max-width: 100%;
            height: 10px;
            background: #ddd;
            border: 1px solid #aaa;
      		border-radius: 10px;
            margin-top: 10px;
      		margin-left: 25px;
      		margin-right: 25px;
      		box-shadow: inset 0 1px 0 #fff, 0 1px 2px rgba(0, 0, 0, 0.3);
        }
        .loading-fill {
            height: 100%;
            width: 0;
            background: DodgerBlue;
      		border-radius: 10px;
      		box-shadow: inset 0 0 5px rgba(0,0,0,0.3);
        }
        #main {
            display: none;
        }
      	#loading-text {
      		margin-top: 8px;
      		margin-bottom: 5px;
      	}
      	.loading-preview-container {
      		display: flex;
    		justify-content: center;
            align-items: center;
            text-align: center;
            font-family: Arial, sans-serif;
            color: black;
            height: 100%; /* Take full height of the viewport */
            width: 100%; /* Take full width of the viewport */
            margin: 0;
      	}
    </style>
<link rel="stylesheet" href="https://sagaforge17.github.io/bubble-layout.css">
</head>
<body>
<div id="gradient-bg"></div>
		<toolbar>
          <div style="position:fixed;top:6px;z-index:5;">
          <li>
          <h2 style="margin-top:auto;margin-bottom:7px;margin-left:10px;margin-right:5px;transform:translateY(-4px);"><a href="https://sagaforge17.github.io/" id="logotxt" target="_self">SagaForge</a></h2>
          </li>
          </div>
          <center style="position:fixed;width:100%;margin:0;">
          <li>
          <button onclick="accountMenu()">Account ▼</button>
          </li>
          <li>
          <button onclick="libraryMenu()">Library ▼</button>
          </li>
	<li>
          <button onclick="window.open('https://sagaforge17.github.io/others/', '_self')">Others ▼</button>
          </li>
          </center>
          <div style="position:fixed;right:10px;">
          <li>
          <p id="NewDetailsTxt" style="transform:scale(1.1)translateY(-4.8px);"></p>
          </li>
          </div>
      </toolbar>
  <div class="loading-preview-container">
    <div class="loading-container" id="loading-container"><center>
      <img height="100px" src="https://sagaforge17.github.io/SF-banner-wb.png"></img>
      </center>
        <p id="loading-text">Initializing...</p>
        <div class="loading-bar">
            <div class="loading-fill" id="loading-fill"></div>
        </div>
    </div>
  </div>

    <script>
        const messages = [
            "Starting website builder bootloader...",
            "Loading unauthorized data...",
            "Optimizing UI components...",
            "Compiling CSS and JavaScript...",
            "Generating page elements...",
            "Setting up design...",
            "Finalizing layout structure...",
            "Establishing framework connections...",
            "Synchronizing design assets...",
      		"Verifying authorization statistics...",
            "Executing final optimizations...",
            "Almost ready to launch..."
        ];
        
        let progress = 0;
        function updateLoading() {
            if (progress >= 100) {
                document.getElementById("loading-text").innerText = "Complete!";
                setTimeout(() => {
                    document.getElementById("loading-container").style.display = "none";
                    document.getElementById("main").style.display = "flex";
                }, 1000);
                return;
            }
            
            progress += Math.floor(Math.random() * 10) + 2;
            if (progress > 100) progress = 100;
            
            document.getElementById("loading-fill").style.width = progress + "%";
            document.getElementById("loading-text").innerText = messages[Math.floor(Math.random() * messages.length)] + ` (${progress}%)`;
            
            setTimeout(updateLoading, Math.random() * 600 + 200);
        }
        
        setTimeout(updateLoading, 800);
    </script>
<div id="main">
  <br><br><br>
    <div class="sidebar">
      <h2 style="margin:0px;margin-bottom:8px;text-align:center;">Website Builder</h2>
        <div class="toolbar">
          	<b style="text-align:center;margin:0;margin-bottom:5px;">Elements (要素):</b><button onclick="toggleElementsContainer()" style="display:block;margin-right:0;margin-left:auto;margin-top:-23px;padding: 5px 10px;"><p style="margin:0;transform:translateY(-0.5px);">↕</p></button>
        <div id="elements-container"><br>
            <button onclick="addElement('h1')">Add Heading</button><br>
            <button onclick="addElement('p')">Add Paragraph</button><br>
            <button onclick="uploadImage()">Add Image</button>
            <input type="file" id="imageUpload" accept="image/*" style="display: none;" onchange="addImage(event)">
        </div>
        </div>
        
        <div class="edit-menu" id="editMenu" style="display: none;">
            <h3 style="margin-top:0;">Edit Element</h3>
            <label id="editLabel"></label>
            <input type="text" id="editTextInput" style="display: none;">
            <label id="editWidthLabel" style="display: none;">Width (px):</label>
            <input type="number" id="editWidthInput" style="display: none;">
            <label id="editHeightLabel" style="display: none;">Height (px):</label>
            <input type="number" id="editHeightInput" style="display: none;">
            <button onclick="applyEdits()">Apply</button>
            <button onclick="closeEditMenu()">Close</button>
        </div>
        
        <div class="settings">
          	<b style="text-align:center;margin:0;margin-bottom:5px;">Settings (設定):</b><button onclick="toggleSettingsContainer()" style="display:block;margin-right:0;margin-left:auto;margin-top:-23px;padding: 5px 10px;"><p style="margin:0;transform:translateY(-0.5px);">↕</p></button>
        <div id="settings-container"><br>
            <label>Page Title: <input type="text" id="pageTitle" oninput="updateTitle()"></label><br>
            <label>Font: <label style="display:block;text-align:right;margin-top:-20px;">Size (px):</label>
                <select id="fontSelector" onchange="updateFont()">
                    <option value="Arial">Arial</option>
                    <option value="Times New Roman">Times New Roman</option>
                    <option value="Verdana">Verdana</option>
                    <option value="Courier New">Courier New</option>
                </select>
              	<input type="text" id="pageFontSize" maxlength="2" oninput="updateFontSize()">
            </label><br>
            <label>Alignment:
                <select id="alignmentSelector" onchange="updateAlignment()">
                    <option value="left">Left</option>
                    <option value="center">Center</option>
                    <option value="right">Right</option>
                </select>
            </label>
        </div>
        </div>
        
        <h4 style="text-align:center;margin-top:10px;margin-bottom:5px;">All done? (すべて終わった？)</h5>
        <button id="export-button" onclick="exportHTML()">Export</button>
    </div>
    
    <div id="editor" contenteditable="true" onkeydown="return false;" onpaste="return false;"></div>
    
    <script>
      	function toggleSettingsContainer() {
            var settingsContainer = document.getElementById("settings-container");
            if (settingsContainer.style.display === "none") {
                settingsContainer.style.display = "block";
            } else {
                settingsContainer.style.display = "none";
            }
        }
      
      	function toggleElementsContainer() {
            var elementsContainer = document.getElementById("elements-container");
            if (elementsContainer.style.display === "none") {
                elementsContainer.style.display = "block";
            } else {
                elementsContainer.style.display = "none";
            }
        }
    </script>
              
    <script>
        let selectedElement = null;

        document.getElementById('editor').addEventListener('contextmenu', function(event) {
            event.preventDefault();
            selectedElement = event.target;
            if (selectedElement !== this) {
                showEditMenu(event.clientX, event.clientY, selectedElement);
            }
        });

        function showEditMenu(x, y, element) {
            const editMenu = document.getElementById('editMenu');
            const label = document.getElementById('editLabel');
            const textInput = document.getElementById('editTextInput');
            const widthLabel = document.getElementById('editWidthLabel');
            const widthInput = document.getElementById('editWidthInput');
            const heightLabel = document.getElementById('editHeightLabel');
            const heightInput = document.getElementById('editHeightInput');

            editMenu.style.display = 'block';
            editMenu.style.left = `${x}px`;
            editMenu.style.top = `${y}px`;

            if (element.tagName === 'IMG') {
                label.textContent = 'Edit Image Size:';
                textInput.style.display = 'none';
                widthLabel.style.display = 'block';
                widthInput.style.display = 'block';
                heightLabel.style.display = 'block';
                heightInput.style.display = 'block';

                widthInput.value = element.width;
                heightInput.value = element.height;
            } else {
                label.textContent = 'Edit Text:';
                textInput.style.display = 'block';
                textInput.value = element.textContent;
                widthLabel.style.display = 'none';
                widthInput.style.display = 'none';
                heightLabel.style.display = 'none';
                heightInput.style.display = 'none';
            }
        }

        function applyEdits() {
            if (selectedElement) {
                const textInput = document.getElementById('editTextInput');
                const widthInput = document.getElementById('editWidthInput');
                const heightInput = document.getElementById('editHeightInput');

                if (selectedElement.tagName === 'IMG') {
                    if (widthInput.value) selectedElement.style.width = widthInput.value + 'px';
                    if (heightInput.value) selectedElement.style.height = heightInput.value + 'px';
                } else {
                    selectedElement.textContent = textInput.value;
                }
            }
        }

        function closeEditMenu() {
            document.getElementById('editMenu').style.display = 'none';
        }

        function addElement(type) {
            let element = document.createElement(type);
            element.textContent = type === 'h1' ? 'Heading' : 'Paragraph text';
            document.getElementById('editor').appendChild(element);
        }

        function uploadImage() {
            document.getElementById('imageUpload').click();
        }

        function addImage(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const img = document.createElement('img');
                    img.src = e.target.result;
                    img.alt = 'Uploaded Image';
                    document.getElementById('editor').appendChild(img);
                    document.getElementById('imageUpload').value = '';
                };
                reader.readAsDataURL(file);
            }
        }

        function updateFont() {
            document.getElementById('editor').style.fontFamily = document.getElementById('fontSelector').value;
        }
      
      	function updateFontSize() {
            document.getElementById('editor').style.fontSize = document.getElementById('pageFontSize').value + 'px';
        }

        function updateAlignment() {
            const alignment = document.getElementById('alignmentSelector').value;
            document.getElementById('editor').style.textAlign = alignment;
            const images = document.getElementById('editor').getElementsByTagName('img');
            for (let img of images) {
                img.style.display = 'block';
                img.style.marginLeft = alignment === 'center' ? 'auto' : '';
                img.style.marginRight = alignment === 'center' ? 'auto' : '';
                if (alignment === 'left') {
                    img.style.marginLeft = '0';
                    img.style.marginRight = 'auto';
                } else if (alignment === 'right') {
                    img.style.marginRight = '0';
                    img.style.marginLeft = 'auto';
                }
            }
        }

        function exportHTML() {
            const editorContent = document.getElementById('editor').innerHTML;
            const fullHTML = `<!DOCTYPE html><html lang='en'><head><meta charset='UTF-8'><meta name='viewport' content='width=device-width, initial-scale=1.0'><title>${document.getElementById('pageTitle').value}</title><style>body { font-family: ${document.getElementById('fontSelector').value}; text-align: ${document.getElementById('alignmentSelector').value}; font-size: ${document.getElementById('pageFontSize').value + 'px'}; }</style></head><body>${editorContent}</body></html>`;
            const blob = new Blob([fullHTML], { type: 'text/html' });
            const a = document.createElement('a');
            a.href = URL.createObjectURL(blob);
            a.download = 'SF-website.html';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
        }
    </script>
</div>
      <script src="https://sagaforge17.github.io/news.js"></script>
      <script>
        const bubbleCount = 130;
        const bubbles = [];
        for (let i = 0; i < bubbleCount; i++) {
            const bubble = document.createElement('div');
            bubble.classList.add('bubble');
            bubble.style.left = `${Math.random() * 100}vw`;
            bubble.style.animationDuration = `${Math.random() * 10 + 5}s`;
            bubble.style.animationDelay = `${Math.random() * 5}s`;
            bubble.style.width = `${Math.random() * 20 + 20}px`; // Random size between 20px and 40px
            bubble.style.height = bubble.style.width;
            document.body.appendChild(bubble);
            bubbles.push(bubble);
        }
    </script>
    <script>
	function accountMenu() {
      		window.open("https://sagaforge17.github.io/account/", "_self");
      	}
      
      	function libraryMenu() {
      		window.open("https://sagaforge17.github.io/library/", "_self");
      	}
    </script>
</body>
</html>
